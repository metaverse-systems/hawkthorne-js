(this["webpackJsonphawkthorne-js"]=this["webpackJsonphawkthorne-js"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),r=n(5),c=n.n(r),s=(n(13),n(2)),h=n(6),o=n(8),u=n(7),p=(n(14),n(4)),d=function t(e,n,i,a){var r=this;Object(s.a)(this,t),this.draw=function(t,e,n,i,a){r.context.drawImage(r.sheet,t*r.spriteWidth+1,e*r.spriteHeight+1,r.spriteWidth-2,r.spriteHeight-1,n,i,r.spriteWidth*a,r.spriteHeight*a)},this.sheet=new Image,this.sheet.src=n,this.spriteWidth=i,this.spriteHeight=a,this.context=e.getContext("2d")},f=function t(e,n,i,a,r){var c=this;Object(s.a)(this,t),this.animate=function(t,e,n,i,a){var r=!1;if(c.animation!==t&&(c.animation=t,r=!0),c.direction!==e&&(c.direction=e,r=!0),r){c.frame=0,c.loop=[];var s=c.characterMap[t],h=[];Array.isArray(s)?(c.repeat=s[0],h=s[1]):(c.repeat=s[e][0],h=s[e][1]),h.forEach((function(t){var e=t.split(","),n=Object(p.a)(e,2),i=n[0],a=n[1];if(-1!==i.search("-"))for(var r=i.split("-"),s=Object(p.a)(r,2),h=s[0],o=s[1],u=h;u<=o;u++)c.loop.push({x:u-1,y:a-1});else c.loop.push({x:i-1,y:a-1})}))}c.draw(n,i,a)},this.draw=function(t,e,n){if(0!==c.loop.length){var i=c.loop[c.frame],a=i.spriteX,r=i.spriteY;c.frame++,c.frame===c.loop.length&&(c.frame=0),c.sheet.draw(a,r,t,e,n)}},this.sheet=new d(e,n,i,a),this.frame=0,this.animation="",this.direction="",this.repeat="",this.loop=[],this.characterMap=r},l=n(0),g=["abed","britta","chang","duncan","garrett","guzman","leonard","rich","troy","vicedean","annie","buddy","dean","fatneil","gilbert","jeff","pierce","shirley","vaughn","vicki"],j=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t){var i;return Object(s.a)(this,n),(i=e.call(this,t)).componentDidMount=function(){fetch("https://raw.githubusercontent.com/hawkthorne/hawkthorne-journey/master/src/character_map.json").then((function(t){return t.json()})).then((function(t){i.setState({characterMap:t},(function(){i.initialize()}))}))},i.initialize=function(){var t=document.getElementById("board");g.forEach((function(e){var n="https://raw.githubusercontent.com/hawkthorne/hawkthorne-journey/master/src/images/characters/"+e+"/base.png";i.sprites.push(new f(t,n,48,48,i.state.characterMap))})),setInterval((function(){t.getContext("2d").clearRect(0,0,t.width,t.height);var e=0,n=50;i.sprites.forEach((function(t){t.animate(i.state.animation,i.state.direction,e,n,2),(e+=100)>900&&(e=0,n+=100)}))}),250)},i.changeAnimation=function(t){i.setState({animation:t.target.value})},i.changeDirection=function(t){i.setState({direction:t.target.value})},i.state={animation:"walk",direction:"right",characterMap:{}},i.sprites=[],i}return Object(h.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("select",{defaultValue:this.state.animation,onChange:this.changeAnimation,children:Object.keys(this.state.characterMap).map((function(t,e){return Object(l.jsx)("option",{children:t},e)}))}),Object(l.jsxs)("select",{defaultValue:this.state.direction,onChange:this.changeDirection,children:[Object(l.jsx)("option",{value:"left",children:"Left"}),Object(l.jsx)("option",{value:"right",children:"Right"})]}),Object(l.jsx)("canvas",{id:"board",width:"1280",height:"720"})]})}}]),n}(i.Component),m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,17)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),i(t),a(t),r(t),c(t)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(j,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.2466c9ce.chunk.js.map