(this["webpackJsonphawkthorne-js"]=this["webpackJsonphawkthorne-js"]||[]).push([[0],[,function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(31),t),i(n(11),t),i(n(10),t)},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.System=t.Manager=t.Component=void 0;var o=n(26);Object.defineProperty(t,"Component",{enumerable:!0,get:function(){return o.Component}});var i=n(27);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return i.Manager}});var a=n(30);Object.defineProperty(t,"System",{enumerable:!0,get:function(){return a.System}})},,,,function(e,t,n){"use strict";var o=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteSheet=void 0;t.SpriteSheet=function e(t,n,i,a){var r=this;o(this,e),this.draw=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{flipVertical:!1,flipHorizontal:!1,flipDiagonal:!1,scale:1};void 0===i.scale&&(i.scale=1);var a=1,s=0,c=1,l=0,h=n,p=o;if(!0===i.flipHorizontal&&(a=-1,s=r.canvas.width,h=r.canvas.width-n-r.spriteWidth),!0===i.flipVertical&&(c=-1,l=r.canvas.height,p=r.canvas.height-o-r.spriteHeight),i.flipDiagonal)return r.context.save(),r.context.translate(n,o),r.context.rotate(Math.PI/180*270),r.context.drawImage(r.sheet,e*r.spriteWidth,t*r.spriteHeight,r.spriteWidth,r.spriteHeight,-r.spriteWidth,0,r.spriteWidth*i.scale,r.spriteHeight*i.scale),void r.context.restore();i.flipVertical||i.flipHorizontal?(r.context.save(),r.context.translate(s,l),r.context.scale(a,c),r.context.drawImage(r.sheet,e*r.spriteWidth,t*r.spriteHeight,r.spriteWidth,r.spriteHeight,h,p,r.spriteWidth*i.scale,r.spriteHeight*i.scale),r.context.restore()):r.context.drawImage(r.sheet,e*r.spriteWidth,t*r.spriteHeight,r.spriteWidth,r.spriteHeight,n,o,r.spriteWidth*i.scale,r.spriteHeight*i.scale)},this.sheet=new Image,this.sheet.src=n,this.spriteWidth=i,this.spriteHeight=a,this.canvas=t,this.context=t.getContext("2d")}},function(e,t,n){"use strict";var o=n(40),i=n(2);Object.defineProperty(t,"__esModule",{value:!0}),t.SpriteAnimation=void 0;var a=n(10);t.SpriteAnimation=function e(t,n,r,s,c){var l=this;i(this,e),this.animate=function(e,t,n,i,a){var r=!1;if(l.animation!==e&&(l.animation=e,r=!0),l.direction!==t&&(l.direction=t,r=!0),r){l.frame=0,l.loop=[];var s=l.characterMap[e],c=[];Array.isArray(s)?(l.repeat=s[0],c=s[1]):(l.repeat=s[t][0],c=s[t][1]),c.forEach((function(e){var t=e.split(","),n=o(t,2),i=n[0],a=n[1];if(-1!==i.search("-"))for(var r=i.split("-"),s=o(r,2),c=s[0],h=s[1],p=c;p<=h;p++)l.loop.push({x:p-1,y:a-1});else l.loop.push({x:i-1,y:a-1})}))}l.draw(n,i,a)},this.draw=function(e,t,n){0!==l.loop.length&&(l.sheet.draw(l.loop[l.frame].x,l.loop[l.frame].y,e,t,n),l.frame++,l.frame===l.loop.length&&(l.frame=0))},this.sheet=new a.SpriteSheet(t,n,r,s),this.frame=0,this.animation="",this.direction="",this.repeat="",this.loop=[],this.characterMap=c}},,,,,function(e){e.exports=JSON.parse('["abed-castle-interior","abed-cave","acschool","admin-hallway","baseball","black-caverns-2","black-caverns-3","black-caverns","blacksmith","blacksmith-upstairs","borchert-hallway","castle-hawkthorne-entrance","castle-hawkthorne-room-1","castle-hawkthorne-room-2","castle-hawkthorne-room-3","castle-hawkthorne-room-4","castle-hawkthorne-throne","castle-hawkthorne","class-basement","class-hallway-2","class-hallway","deans-closet2","deans-closet","deans-office-2","deans-office","dorm-lobby","forest-2","forest-hidden","forest","frozencave-2","frozencave-3","frozencave","gay-island-2","gay-island-3","gay-island-4","gay-island","gazette-office-2","gazette-office","greendale-anthropology","greendale-biology","greendale-englishmemorial","greendale-exterior","greendale-fry","greendale-ladders","greendale-quad","hallway","house","lab","mens-bathroom","new-abedtown","parking-lot","potteryclass","rainbow-bar","rave-hallway","seabluff","secretwritersgarden","sophieb","studyroom","sunchamber","tavern","test-level","town","trampoline","treeline","upstairs","valley-2","valley-3","valley-chili-fields-2","valley-chili-fields","valley-goat-cave","valley-goat-farm","valley-hills-2","valley-hills","valley-sandpits-2","valley-sandpits-entrance","valley-sandpits","valley-tacotown","valley","vents-2","vents","village-forest-2","village-forest-3","village-forest-4","village-forest-acornpeak-2","village-forest-acornpeak","village-forest-mines-2","village-forest-mines-3","village-forest-mines-entrance","village-forest-mines-return","village-forest-mines-room","village-forest-mines-storage-room","village-forest-mines","village-forest-stonerspeak-2","village-forest-stonerspeak-return","village-forest-stonerspeak","village-forest","village-treeline","winterwonderland2","winterwonderland","womens-bathroom"]')},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";var o=n(2),i=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;var a=function(){function e(t){var n=this;o(this,e),this.EntityHandle=null,Object.keys(t).forEach((function(e){n[e]=t[e]}))}return i(e,[{key:"Export",value:function(){var e=this,t={};return Object.keys(this).forEach((function(n){"EntityHandle"!=n&&"Type"!=n&&(t[n]=e[n])})),t}}]),e}();t.Component=a},function(e,t,n){"use strict";var o=n(2),i=n(5),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var r=a(n(28)),s=function(){function e(){o(this,e),this.Containers=[],this.Running=!0}return i(e,[{key:"ContainerCreate",value:function(e){var t=new r.default(e);return this.Containers[t.Handle]=t,this.Containers[t.Handle]}},{key:"Container",value:function(e){return null!==e?void 0!==this.Containers[e]?this.Containers[e]:this.ContainerCreate(e):this.ContainerCreate(null)}},{key:"ContainersGet",value:function(){return this.Containers}},{key:"ContainersKill",value:function(e){e.forEach((function(e){clearInterval(e.interval)}))}},{key:"IsRunning",value:function(){return this.Running}},{key:"Shutdown",value:function(){this.Running=!1,this.ContainersKill(this.ContainersGet())}}]),e}();t.Manager=s},function(e,t,n){"use strict";var o=n(2),i=n(5),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),s=a(n(29)),c=function(){function e(t){o(this,e),this.Handle=t,void 0===this.Handle&&(this.Handle=(0,r.v4)()),this.Entities={},this.Systems={},this.Components={},this.SleepInterval=1e3/30,this.IntervalFunc=null,this.Running=!1,this.isInit=!1}return i(e,[{key:"Start",value:function(e){var t=this;void 0!==e&&(this.SleepInterval=e),this.SystemsInit(),this.IntervalFunc=setInterval((function(){return t.Update()}),this.SleepInterval),this.Running=!0}},{key:"Stop",value:function(){this.Running=!1}},{key:"SystemsInit",value:function(){var e=this;Object.keys(this.Systems).forEach((function(t){e.isInit||e.Systems[t].Init(),e.Systems[t].LastTime=(new Date).getTime()})),this.isInit=!0}},{key:"Update",value:function(){var e=this;Object.keys(this.Systems).forEach((function(t){e.Systems[t].Update()})),!1===this.Running&&clearInterval(this.IntervalFunc)}},{key:"ManagerSet",value:function(e){this.Manager=e}},{key:"HandleGet",value:function(){return this.Handle}},{key:"Entity",value:function(e){return this.EntityCreate(e)}},{key:"System",value:function(e){return e.ContainerSet(this),this.Systems[e.HandleGet()]=e,e}},{key:"EntityCreate",value:function(e){var t;return void 0===e?(t=new s.default,this.Entities[t.HandleGet()]=t):void 0===this.Entities[e]?(t=new s.default(e),this.Entities[t.HandleGet()]=t):t=this.Entities[e],t.ContainerSet(this),t}},{key:"EntityDestroy",value:function(e){var t=this;Object.keys(this.Components).forEach((function(n){delete t.Components[n][e]}))}},{key:"Component",value:function(e){return void 0===this.Components[e.Type]&&(this.Components[e.Type]={}),this.Components[e.Type][e.EntityHandle]=e,e}},{key:"ComponentsGet",value:function(e){var t=this,n={};return e.forEach((function(e){n[e]=t.Components[e],void 0===n[e]&&(n[e]={})})),n}},{key:"Export",value:function(){var e=this,t={Handle:this.Handle,Entities:[],Systems:[]};return Object.keys(this.Entities).forEach((function(n){t.Entities.push(e.Entities[n].Export())})),Object.keys(this.Systems).forEach((function(n){t.Systems.push(e.Systems[n].Export())})),t}}]),e}();t.default=c},function(e,t,n){"use strict";var o=n(2),i=n(5);Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),r=function(){function e(t){o(this,e),this.Handle=void 0===t?(0,a.v4)():t,this.Components={}}return i(e,[{key:"HandleGet",value:function(){return this.Handle}},{key:"ContainerSet",value:function(e){this.Container=e}},{key:"Component",value:function(e){return e.EntityHandle=this.Handle,void 0===this.Components[e.Type]&&(this.Components[e.Type]={}),this.Components[e.Type][this.Handle]=e,this.Container.Component(e)}},{key:"Export",value:function(){var e=this,t={Handle:this.Handle,Components:{}};return Object.keys(this.Components).forEach((function(n){Object.keys(e.Components[n]).forEach((function(o){t.Components[n]=e.Components[n][o].Export()}))})),t}},{key:"destroy",value:function(){this.Container.EntityDestroy(this.Handle)}}]),e}();t.default=r},function(e,t,n){"use strict";var o=n(2),i=n(5);Object.defineProperty(t,"__esModule",{value:!0}),t.System=void 0;var a=function(){function e(t){var n=this;o(this,e),this.Handle=null,this.RequestedComponents=[],this.LastTime=(new Date).getTime(),this.config={},Object.keys(t).map((function(e){"function"==typeof t[e]?n[e]=t[e]:n.config[e]=t[e]}))}return i(e,[{key:"HandleGet",value:function(){return this.Handle}},{key:"ContainerSet",value:function(e){this.Container=e}},{key:"ComponentRequest",value:function(e){this.RequestedComponents.includes(e)||this.RequestedComponents.push(e)}},{key:"ComponentsGet",value:function(){return this.Container.ComponentsGet(this.RequestedComponents)}},{key:"DeltaTimeGet",value:function(){var e=(new Date).getTime(),t=e-this.LastTime;return this.LastTime=e,t}},{key:"Init",value:function(){}},{key:"Export",value:function(){var e=this,t={Handle:this.Handle};return Object.keys(this.config).forEach((function(n){t[n]=e.config[n]})),t}}]),e}();t.System=a},function(e,t,n){"use strict";var o=n(2),i=n(32),a=n(34);Object.defineProperty(t,"__esModule",{value:!0}),t.SceneTilesheetComponent=t.ObjectComponent=t.LevelStartComponent=t.LoadSceneComponent=t.SceneComponent=t.CurrentSceneComponent=t.RectangleComponent=t.PolylineComponent=t.PolygonComponent=t.TilesheetComponent=t.TileComponent=t.PositionComponent=t.StaticSpriteComponent=t.SpriteComponent=void 0;var r=n(6),s=n(11),c=n(10),l=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="SpriteComponent",i.sprite=new s.SpriteAnimation(e.canvas,e.url,e.width,e.height,e.characterMap),i}return n}(r.Component);t.SpriteComponent=l;var h=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="StaticSpriteComponent",i.sprite=new c.SpriteSheet(e.canvas,e.url,e.width,e.height),i}return n}(r.Component);t.StaticSpriteComponent=h;var p=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="TilesheetComponent",i}return n}(r.Component);t.TilesheetComponent=p;var u=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="TileComponent",i.tilesheet=e.tilesheet,i.width=e.width,i.height=e.height,i.x=e.x,i.y=e.y,i.options=e.options,i}return n}(r.Component);t.TileComponent=u;var m=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="PositionComponent",i.x=e.x,i.y=e.y,i}return n}(r.Component);t.PositionComponent=m;var d=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="PolygonComponent",i.points=e.points,i}return n}(r.Component);t.PolygonComponent=d;var f=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="PolylineComponent",i.points=e.points,i}return n}(r.Component);t.PolylineComponent=f;var v=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="RectangleComponent",i.width=e.width,i.height=e.height,i.color=e.color,i}return n}(r.Component);t.RectangleComponent=v;var y=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="CurrentSceneComponent",i.scene=e.scene,i}return n}(r.Component);t.CurrentSceneComponent=y;var g=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="SceneComponent",i.scene=e.scene,i}return n}(r.Component);t.SceneComponent=g;var C=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="LoadSceneComponent",i.scene=e.scene,i.url=e.url,i}return n}(r.Component);t.LoadSceneComponent=C;var w=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="LevelStartComponent",i.x=e.x,i.y=e.y,i}return n}(r.Component);t.LevelStartComponent=w;var b=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="ObjectComponent",i.gid=e.gid,i.width=e.width,i.height=e.height,i}return n}(r.Component);t.ObjectComponent=b;var S=function(e){i(n,e);var t=a(n);function n(e){var i;return o(this,n),(i=t.call(this,e)).Type="SceneTilesheetComponent",i.gid=e.gid,i}return n}(r.Component);t.SceneTilesheetComponent=S},,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var o=n(3),i=n.n(o),a=n(13),r=n.n(a),s=(n(21),n(4)),c=n(14),l=n(8),h=n(7),p=(n(22),n(15)),u=n.n(p),m=n(6),d=n(1),f=n.n(d),v=function e(t,n,o,i){var a=this;Object(s.a)(this,e),this.draw=function(e,t,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};void 0===i.scale&&(i.scale=1);var r=1,s=0,c=1,l=0,h=n,p=o;if(!0===i.flipHorizontal&&(r=-1,s=a.canvas.width,h=a.canvas.width-n-a.spriteWidth),!0===i.flipVertical&&(c=-1,l=a.canvas.height,p=a.canvas.height-o-a.spriteHeight),i.flipDiagonal)return a.context.save(),a.context.translate(n,o),a.context.rotate(Math.PI/180*270),a.context.drawImage(a.sheet,e*a.spriteWidth,t*a.spriteHeight,a.spriteWidth,a.spriteHeight,-a.spriteWidth,0,a.spriteWidth*i.scale,a.spriteHeight*i.scale),void a.context.restore();i.flipVertical||i.flipHorizontal?(a.context.save(),a.context.translate(s,l),a.context.scale(r,c),a.context.drawImage(a.sheet,e*a.spriteWidth,t*a.spriteHeight,a.spriteWidth,a.spriteHeight,h,p,a.spriteWidth*i.scale,a.spriteHeight*i.scale),a.context.restore()):a.context.drawImage(a.sheet,e*a.spriteWidth,t*a.spriteHeight,a.spriteWidth,a.spriteHeight,n,o,a.spriteWidth*i.scale,a.spriteHeight*i.scale)},this.sheet=new Image,this.sheet.src=n,this.spriteWidth=o,this.spriteHeight=i,this.canvas=t,this.context=t.getContext("2d")},y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),void 0===e&&(e={}),(o=t.call(this,e)).Init=function(){o.Container.Components.TilesheetComponent={},o.Container.Components.TileComponent={},o.Container.Components.PositionComponent={},o.Container.Components.SpriteComponent={},o.Container.Components.StaticSpriteComponent={},o.Container.Components.PolygonComponent={},o.Container.Components.PolylineComponent={},o.Container.Components.RectangleComponent={},o.Container.Components.CurrentSceneComponent={},o.Container.Components.SceneComponent={}},o.ConfigUpdate=function(e){Object.keys(e).forEach((function(t){o.config[t]=e[t]})),e.width&&(o.config.board.width=o.config.width),e.height&&(o.config.board.height=o.config.height)},o.ShouldDraw=function(e,t,n,i){var a=o.config.camera.x,r=(o.config.camera.y,parseInt(o.config.camera.x)+parseInt(o.config.board.width)),s=(parseInt(o.config.camera.y),parseInt(o.config.board.height),e),c=parseInt(e)+parseInt(n);parseInt(t),parseInt(i);return!(c<a)&&!(s>r)},o.Update=function(){if(void 0!==o.config.board){var e=o.config.board.getContext("2d");e.clearRect(0,0,o.config.board.width,o.config.board.height);var t=o.Container.Components.TilesheetComponent;void 0!==t&&Object.keys(t).forEach((function(e){var n=t[e];void 0===o.tilesheets[n.url]&&(console.log("Loading tilesheet"),console.log(n),o.tilesheets[n.url]=new v(o.config.board,n.url,n.width,n.height),console.log(o.tilesheets),o.Container.EntityDestroy(e))}));var n="",i=o.Container.Components.CurrentSceneComponent;if(void 0!==i&&Object.keys(i).forEach((function(e){n=i[e].scene})),n){var a=o.Container.Components.SceneComponent;void 0!==a&&Object.keys(a).forEach((function(t){if(n===a[t].scene){var i=o.Container.Components.PositionComponent[t];if(void 0!==i){var r=o.Container.Components.RectangleComponent[t];r&&(e.beginPath(),e.fillStyle=r.color,e.rect(i.x-o.config.camera.x,i.y-o.config.camera.y,r.width,r.height),e.fill());var s=o.Container.Components.TileComponent[t];if(s){var c=o.tilesheets[s.tilesheet];if(!c)return;o.ShouldDraw(i.x*s.width,i.y*s.height,s.width,s.height)&&c.draw(s.x,s.y,i.x*s.width-o.config.camera.x,i.y*s.height-o.config.camera.y,s.options)}var l=o.Container.Components.StaticSpriteComponent[t];l&&o.ShouldDraw(i.x,i.y,l.width,l.height)&&l.sprite.draw(0,0,i.x-o.config.camera.x,i.y-o.config.camera.y,l.options);var h=o.Container.Components.SpriteComponent[t];h&&o.ShouldDraw(i.x,i.y,h.width,h.height)&&h.sprite.animate(h.animation,h.direction,i.x-o.config.camera.x,i.y-o.config.camera.y,{});var p=o.Container.Components.PolygonComponent[t];p&&(e.strokeStyle="#0f0",e.beginPath(),e.moveTo(i.x-o.config.camera.x,i.y-o.config.camera.y),p.points.forEach((function(t){var n=parseInt(t.x)+parseInt(i.x)-o.config.camera.x,a=parseInt(t.y)+parseInt(i.y)-o.config.camera.y;e.lineTo(n,a)})),e.lineTo(i.x-o.config.camera.x,i.y-o.config.camera.y),e.closePath(),e.stroke());var u=o.Container.Components.PolylineComponent[t];u&&(e.strokeStyle="#f00",e.beginPath(),e.moveTo(i.x-o.config.camera.x,i.y-o.config.camera.y),u.points.forEach((function(t){var n=parseInt(t.x)+parseInt(i.x)-o.config.camera.x,a=parseInt(t.y)+parseInt(i.y)-o.config.camera.y;e.lineTo(n,a)})),e.lineTo(i.x-o.config.camera.x,i.y-o.config.camera.y),e.closePath(),e.stroke())}}}))}}},o.Handle="DrawingSystem",o.tilesheets={},o.config.camera={x:0,y:0},o}return n}(m.System),g=n(16),C=n(0),w=new m.Manager,b="http://localhost",S=b+"/src/audio/music/",x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).componentWillUnmount=function(){document.removeEventListener("keydown",o.keyDown)},o.componentDidMount=function(){document.addEventListener("keydown",o.keyDown),o.handleResize(),o.loadMap()},o.handleResize=function(){null!==o.state.drawingSystem&&o.state.drawingSystem.ConfigUpdate({height:1600,width:1600,board:document.getElementById("board")})},o.setMusic=function(e){void 0===e&&(e="level");var t="";t=-1!==e.search("ogg")?b+"/src/"+e:S+e+".ogg",o.setState({music:t},(function(){document.getElementById("rap").play()}))},o.loadMap=function(){var e,t=b+"/src/maps/"+o.state.map+".tmx",n=o.world.Components.CurrentSceneComponent;void 0!==n&&Object.keys(n).forEach((function(t){e=o.world.Entity(t)})),e||(e=o.world.Entity()),e.Component(new d.CurrentSceneComponent({scene:o.state.map})),(e=o.world.Entity()).Component(new d.LoadSceneComponent({scene:o.state.map,url:t}))},o.moveCamera=function(e,t){o.setState({camera:{x:e,y:t}},(function(){o.state.drawingSystem.ConfigUpdate({camera:o.state.camera})}))},o.centerCamera=function(){var e=o.world.Components.PositionComponent.player,t=o.state.drawingSystem.config.width,n=o.state.camera.x+.75*t;if(e.x>n)o.moveCamera(o.state.camera.x+5,o.state.camera.y);else{var i=o.state.camera.x+.25*t;if(e.x<i){var a=o.state.camera.x-5;return a<0&&(a=0),void o.moveCamera(a,o.state.camera.y)}}},o.setBackgroundColor=function(e){var t=o.world.Entity();t.Component(new d.PositionComponent({x:0,y:0}));var n=e.width*e.tileWidth,i=e.height*e.tileHeight,a="#"+parseInt(e.properties.red).toString(16)+parseInt(e.properties.green).toString(16)+parseInt(e.properties.blue).toString(16);t.Component(new d.RectangleComponent({width:n,height:i,color:a}))},o.setMusic=function(e){void 0===e&&(e="level");var t="";t=-1!==e.search("ogg")?b+"/src/"+e:S+e+".ogg",o.setState({music:t},(function(){document.getElementById("rap").play()}))},o.initializePlayer=function(e){var t=document.getElementById("board"),n="http://localhost/src/images/characters/"+o.state.playerCharacter+"/"+o.state.playerCostume+".png",i=o.world.Entity("player");void 0!==e?i.Component(new d.PositionComponent(e)):i.Component(new d.PositionComponent(o.state.levelStart)),i.Component(new d.SpriteComponent({canvas:t,url:n,width:48,height:48,characterMap:o.state.characterMap,animation:o.state.animation,direction:o.state.direction}))},o.changeAnimation=function(e){o.setState({animation:e.target.value},(function(){o.updateSpriteComponent()}))},o.changeDirection=function(e){o.setState({direction:e.target.value},(function(){o.updateSpriteComponent()}))},o.updateSpriteComponent=function(){Object.keys(o.world.Components.SpriteComponent).forEach((function(e){o.world.Components.SpriteComponent[e].animation=o.state.animation,o.world.Components.SpriteComponent[e].direction=o.state.direction}))},o.destroyMap=function(){Object.keys(o.world.Components.TileComponent).forEach((function(e){o.world.Entity(e).destroy()})),Object.keys(o.world.Components.StaticSpriteComponent).forEach((function(e){o.world.Entity(e).destroy()})),Object.keys(o.world.Components.PolygonComponent).forEach((function(e){o.world.Entity(e).destroy()})),void 0!==o.world.Components.PolylineComponent&&Object.keys(o.world.Components.PolylineComponent).forEach((function(e){o.world.Entity(e).destroy()})),void 0!==o.world.Components.RectangleComponent&&Object.keys(o.world.Components.RectangleComponent).forEach((function(e){o.world.Entity(e).destroy()}))},o.changeMap=function(e){o.setState({map:e.target.value},(function(){o.loadMap()}))},o.volume=function(e){o.setState({volume:e.target.volume})},o.keyDown=function(e){var t={x:0,y:0};switch(e.key){case"d":case"D":t.x=5,o.setState({direction:"right"});break;case"a":case"A":t.x=-5,o.setState({direction:"left"})}if(t.x||t.y){var n=o.world.Components.PositionComponent.player;t.x+=n.x,t.y+=n.y,o.initializePlayer(t),o.centerCamera()}},o.state={music:"",volume:.25,map:"test-1",animation:"idle",direction:"right",characterMap:{},characters:{},drawingSystem:new y({width:window.innerWidth,height:window.innerHeight}),levelStart:{x:0,y:0},playerCharacter:"annie",playerCostume:"santa",camera:{x:0,y:0}},o.world=w.Container(),o.world.System(o.state.drawingSystem),o.world.Start(1e3/15),setTimeout((function(){o.world.System(new f.a({canvas:document.getElementById("board"),tilesheetBaseURL:b+"/src/"}))}),500),o}return Object(c.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("canvas",{id:"board",width:"1600",height:"1600"}),Object(C.jsxs)("div",{style:{float:"right"},children:[Object(C.jsx)("label",{htmlFor:"map",children:"Choose map:"}),Object(C.jsx)("br",{}),Object(C.jsx)("select",{id:"map",defaultValue:this.state.map,onChange:this.changeMap,children:g.map((function(e,t){return Object(C.jsx)("option",{children:e},t)}))}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("label",{htmlFor:"animation",children:"Choose animation:"}),Object(C.jsx)("br",{}),Object(C.jsx)("select",{id:"animation",defaultValue:this.state.animation,onChange:this.changeAnimation,children:Object.keys(this.state.characterMap).map((function(e,t){return Object(C.jsx)("option",{children:e},t)}))}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("label",{htmlFor:"direction",children:"Choose direction:"}),Object(C.jsx)("br",{}),Object(C.jsxs)("select",{id:"direction",defaultValue:this.state.direction,onChange:this.changeDirection,children:[Object(C.jsx)("option",{value:"left",children:"Left"}),Object(C.jsx)("option",{value:"right",children:"Right"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(u.a,{id:"rap",src:this.state.music,loop:!0,controls:!0,onVolumeChanged:this.volume,volume:this.state.volume})]})]})}}]),n}(o.Component),j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),o(e),i(e),a(e),r(e)}))};r.a.render(Object(C.jsx)(i.a.StrictMode,{children:Object(C.jsx)(x,{})}),document.getElementById("root")),j()}],[[47,1,2]]]);
//# sourceMappingURL=main.4996c1da.chunk.js.map